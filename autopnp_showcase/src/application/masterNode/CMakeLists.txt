#
# Copyright (c) 2011-2013, fortiss GmbH.
# Licensed under the Apache License, Version 2.0.
# 
# Use, modification and distribution are subject to the terms specified
# in the accompanying license file LICENSE.txt located at the root directory
# of this software distribution. A copy is available at
# http://chromosome.fortiss.org/.
#
# This file is part of CHROMOSOME.
#
# $Id$
#         This file has been generated by the CHROMOSOME Modeling Tool (XMT)
#         (fortiss GmbH).

cmake_minimum_required (VERSION 2.6)

project (masterNode)

# Main project settings
include ("../../../../CMakeCommon.txt")

# Add project specific include directories
xme_include_directory ("../..")

# Add component definitions
include ("CMakeXmeComponents.txt")


# Add udp waypoint directory
xme_add_subdirectory ("${XME_ROOT}/xme/wp/udp")

# Set up sources and headers
set(
	SOURCES
	masterNode.c
	../../xme/core/topicUtil.c
)

set(
	HEADERS
	../../autopnp/topic/dictionaryData.h
	../../xme/core/topicUtil.h
	../../autopnp/topic/dictionary.h
)

# Define target
xme_add_executable(
	"masterNode"
	${SOURCES}
	${HEADERS}
)

# Build XME components
xme_link_components(
	"masterNode"
	xme_core_broker
	xme_core_dataHandler
	xme_core_executionManager
	xme_core_directory_plugAndPlayManager
	autopnp_adv_pnpManager
	autopnp_adv_loginServer
	xme_wp_udp_udpReceive
	xme_wp_udp_udpSend
	autopnp_wp_marshaler_marshaler
	autopnp_wp_marshaler_demarshaler
)

# Build documentation
xme_build_documentation(
	"masterNode"
	TARGET "masterNode_doc"
	OUTPUT_NAME "masterNode.chm"
	INSTALL_DIR ${CMAKE_CURRENT_SOURCE_DIR}
	#AUTO
	CLEAN
	FILES ${SOURCES} ${HEADERS}
)
